---
title: "Homework 2: Data classes and structures"
author: ""
date: "Due September 24, 2019"
output: html_document
---


<p style="color: black; border:3px; border-style: solid; border-color: red; padding: 1em; background-color: wheat;font-size: 14pt;text-align:center">
[**Submission Link**](https://www.dropbox.com/request/4l3YxsRsIcUgMFhw3kKl){target=_blank}
</p>

You will be able to see the submission link when you knit this document to HTML. Please submit **only the RMarkdown file**. 


```{r setup, include=F}
# First modify this chunk to activate the packages you will need for this HW.
# Ensure you have `tidyverse`, `knitr` and `rmarkdown` installed
# Add statements like `library(tidyverse)`
library(tidyverse)
library(knitr)
library(rmarkdown)
```


# Reading

1. Learn about **tidy data* by reading [this vignette](https://cran.r-project.org/web/packages/tidyr/vignettes/tidy-data.html) from the `tidyr` documentation, or the [actual paper](https://vita.had.co.nz/papers/tidy-data.html)

# Exercises

You may change this RMarkdown. Check the code by changing `eval=F` to `eval=T` in 
each chumk to make sure the code works. Submit this Rmd, ensuring that for all the 
chunks, `eval = T`. 

1. Fix the following code to ensure it works

```{r, eval = T}
my_variable <-  1:5
my_variable # Change 1 to i
```

```{r, eval = T}
mean(airquality$Wind) # Needs capitalization of Wind

```

```{r, eval = T}
table(iris$Sepal.Length) # Replace _ with .
```


2. Download this [data](data/clinical_data_breast_cancer_modified.csv) 
  a. Import it into R, calling it `breast_cancer`. (Use the GUI to import the file, 
  but copy the code from the GUI into the following R chunk)
```{r, eval = T}
# Code to import data file here
breast_cancer <- read_csv('data/clinical_data_breast_cancer_modified.csv')
names(breast_cancer) <- make.names(names(breast_cancer))
# Here, I've stored the data in a subdirectory called data

```
  
  b. Check the data types for each of the variables
```{r, eval = T}
# Check for data types
str(breast_cancer)
```
  c. Convert the Gender, ER Status, PR Status and HER2 status variables to factors
```{r, eval = T}
# Convert here

breast_cancer$Gender <- as.factor(breast_cancer$Gender)

breast_cancer$ER.Status <- as.factor(breast_cancer$ER.Status)
breast_cancer$PR.Status <- as.factor(breast_cancer$PR.Status)
breast_cancer$HER2.Final.Status <- as.factor(breast_cancer$HER2.Final.Status)

```
  d. Identify any other variables that might be the wrong type and convert them
```{r}
# Convert any new variables here

breast_cancer$Tumor <- as.factor(breast_cancer$Tumor)
## I'd do the same for Tumor--T1, Node, Node-Coded, Metastasis,
##  Metastasis-Coded, AJCC Stage, Converted Stage, Survival Data Form and 
##  Vital Status
```
  e. Verify that all the variables in `breast_cancer` match the modifications you made
```{r, echo=F, results='hide'}
breast_cancer <- breast_cancer %>% mutate_at(vars(Tumor..T1.Coded, Node, Node.Coded, Metastasis,
  Metastasis.Coded, AJCC.Stage, Converted.Stage, Survival.Data.Form, 
  Vital.Status), as.factor) %>% 
  mutate(Age.at.Initial.Pathologic.Diagnosis = as.numeric(Age.at.Initial.Pathologic.Diagnosis))
```
  
```{r, echo = F, eval = T}
# Don't edit this chunk. It is for verification. You'll learn how to do similar code on Wednesday. Do change the chunk option to `eval=T`
breast_cancer %>% 
  dplyr::summarize_all(class) %>% 
  tidyr::gather(Variable, Class, everything()) %>% 
  knitr::kable(format='html')
```
  

<p style="color: black; border:3px; border-style: solid; border-color: red; padding: 1em; background-color: wheat;font-size: 14pt;text-align:center">
[**Submission Link**](https://www.dropbox.com/request/4l3YxsRsIcUgMFhw3kKl){target=_blank}
</p>
 


